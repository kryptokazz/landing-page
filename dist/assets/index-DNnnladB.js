(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(t){if(t.ep)return;t.ep=!0;const e=i(t);fetch(t.href,e)}})();document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("data-entry-form");s.addEventListener("submit",async o=>{o.preventDefault(),document.querySelectorAll('[id$="-error"]').forEach(e=>e.textContent="");const i=new FormData(s),n=Object.fromEntries(i.entries()),t="/api/submit-form";try{const e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),r=await e.json();if(e.ok)console.log("Success:",r),alert("Form submitted successfully!"),s.reset();else if(e.status===400)r.errors.forEach(c=>{const a=document.getElementById(`${c.param}-error`);a&&(a.textContent=c.msg)});else throw new Error(`Server responded with a ${e.status} status.`)}catch(e){console.error("Error submitting form:",e.message),alert("An error occurred during submission. Please try again.")}})});
